---
title: "Exploracion de Datos"
author: "Irving, Chuy"
date: "2025-01-29"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(knitr)
library(dplyr)
library(kableExtra)
```

# Fase Exploratoria  
En esta fase se hará un breve análisis de exploración del dataset en donde se conocerán datos generales, cómo el tipo de las varaibles, sus distribuciones o formas. Además se plantena preguntas superficiales para comenzar a familiarizarse con el dataset, cómo conocer las películas más vistas, actores, géneros más populares y otras características importantes para entender las variables.


```{r, include=FALSE}
movies <- read.csv("./movies.csv")

```

```{r, include=FALSE}
summary(movies)
```

## Variables  
Tipo de cada una de las variables
```{r echo=FALSE, message=FALSE, warning=FALSE}

table_variables <- data.frame(
  Variable = c("Id", "popularity", "budget", "revenue", "original_title", 
               "originalLanguage", "title", "homePage", "video", "director",
               "runtime", "genres", "genresAmount", "productionCompany",
               "productionCoAmount", "productionCompanyCountry", "productionCountry",
               "productionCountriesAmount", "releaseDate", "voteCount",
               "voteAvg", "actors", "actorsPopularity", "actorsCharacter",
               "actorsAmount", "castWomenAmount", "castMenAmount"),
  Description = c("Id de la película", "Índice de popularidad de la película calculado semanalmente", 
                  "El presupuesto para la película.", "El ingreso de la película", 
                  "El título original de la película, en su idioma original.", 
                  "Idioma original en que se encuentra la película", 
                  "El título de la película traducido al inglés", 
                  "La página de inicio de la película", 
                  "Si tiene videos promocionales o no", 
                  "Director de la película",
                  "La duración de la película", "El género de la película", 
                  "Cantidad de géneros que representan la película", 
                  "Las compañías productoras de la película", 
                  "Cantidad de compañías productoras que participaron en la película", 
                  "Países de las compañías productoras de la película", 
                  "Países en los que se llevó a cabo la producción de la película",
                  "Cantidad de países en los que se rodó la película",
                  "Fecha de lanzamiento de la película",
                  "El número de votos en la plataforma para la película.",
                  "El promedio de los votos en la plataforma para la película",
                  "Actores que participan en la película (Elenco)",
                  "Índice de popularidad del elenco de la película.",
                  "Personaje que interpreta cada actor en la película",
                  "Cantidad de personas que actúan en la película",
                  "Cantidad de actrices en el elenco de la película",
                  "Cantidad de actores en el elenco de la película"),
  Type = c("Cualitativa nominal", "Cuantitativa continua", "Cuantitativa discreta",
           "Cuantitativa discreta", "Cualitativa nominal", "Cualitativa nominal", 
           "Cualitativa nominal", "Cualitativa nominal", "Cualitativa nominal", 
           "Cualitativa nominal", "Cuantitativa continua", "Cualitativa nominal", 
           "Cuantitativa discreta", "Cualitativa nominal", "Cuantitativa discreta",
           "Cualitativa nominal", "Cualitativa nominal", "Cuantitativa discreta", 
           "Cuantitativa discreta", "Cuantitativa discreta", "Cuantitativa continua", 
           "Cualitativa nominal", "Cuantitativa continua", "Cualitativa nominal", 
           "Cuantitativa discreta", "Cuantitativa discreta", "Cuantitativa discreta")
)

table <- kable(table_variables, format = "html", caption = "table de Variables de CineAnalysis")
table <- kable_styling(table, bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE)
table <- column_spec(table, 1, width = "20%")
table <- column_spec(table, 2, width = "50%")
table <- column_spec(table, 3, width = "20%")
table
```

## Tablas de frecuencia de Variables cualitativas  
Los idiomas en los que más se producen películas son: inglés con un total de 7772, japonés con 644 y español en tercer lugar con 425.  
```{r echo=FALSE, message=FALSE, warning=FALSE}
frecuency_originalLanguage <- movies$originalLanguage
tfrecuency_originalLanguage <- table(frecuency_originalLanguage)
tfrecuency_originalLanguage_df <- as.data.frame(tfrecuency_originalLanguage)

colnames(tfrecuency_originalLanguage_df) <- c("Idioma", "Frecuencia")

tf_originalLanguage <- kable(
  tfrecuency_originalLanguage_df,
  caption = ""
)

tf_originalLanguage <- kable_styling(
  tf_originalLanguage,
  full_width = FALSE,
  bootstrap_options = c("striped", "hover", "condensed", "responsive")
)

tf_originalLanguage
```

Más del 90% de las películas no tienen un vídeo promocional, ya que apenas 84 películas sí cuentan con uno, mientras que 9430 no.
```{r echo=FALSE, message=FALSE, warning=FALSE}
frecuency_video <- movies$video
tfrecuency_video <- table(frecuency_video)
tfrecuency_video_df <- as.data.frame(tfrecuency_video)

colnames(tfrecuency_video_df) <- c("Video", "Frecuencia")

tf_video <- kable(
  tfrecuency_video_df, 
  caption = ""
)

tf_video <- kable_styling(
  tf_video, 
  full_width = FALSE, 
  bootstrap_options = c("striped", "hover", "condensed", "responsive")
)

tf_video
```

```{r echo=FALSE, message=FALSE, warning=FALSE}
frecuency_director <- movies$director
frecuency_director <- frecuency_director[!is.na(frecuency_director) & frecuency_director != ""]

frecuency_director <- iconv(frecuency_director, from = "", to = "UTF-8")

tfrecuency_director <- table(frecuency_director)
tfrecuency_director_df <- as.data.frame(tfrecuency_director)

colnames(tfrecuency_director_df) <- c("Director", "Frecuencia")

tfrecuency_director_df <- tfrecuency_director_df %>%
  arrange(desc(Frecuencia)) %>%
  head(10)

tf_director <- kable(
  tfrecuency_director_df, 
  caption = "Top 10 Directores por Frecuencia"
)

tf_director <- kable_styling(
  tf_director, 
  full_width = FALSE, 
  bootstrap_options = c("striped", "hover", "condensed", "responsive")
)

tf_director
```

